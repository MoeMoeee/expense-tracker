(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(17),s=n.n(c),o=n(1),i=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{className:"mt-3 font-bold text-center text-5xl",children:"Track Your Expenses"})})},l=n(8),d=n(16),x=n(4),b=n(18),u=n(5),j=function(e,t){switch(t.type){case"GET_TRANSACTION":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,transactions:t.payload});case"TRANSACTION_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.payload});case"DELETE":return Object(u.a)(Object(u.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD":return Object(u.a)(Object(u.a)({},e),{},{transactions:[].concat(Object(b.a)(e.transactions),[t.payload])});default:return e}},p=n(36),m={transactions:[],error:null,loading:!0},h=Object(r.createContext)(m),O=function(e){var t=e.children,n=Object(r.useReducer)(j,m),a=Object(x.a)(n,2),c=a[0],s=a[1];function i(){return(i=Object(d.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/v1/transactions");case 3:t=e.sent,s({type:"GET_TRANSACTION",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(d.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/v1/transactions/".concat(t));case 3:s({type:"DELETE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function u(){return(u=Object(d.a)(Object(l.a)().mark((function e(t){var n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,p.a.post("/api/v1/transactions",t,n);case 4:r=e.sent,s({type:"ADD",payload:r.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"TRANSACTION_ERROR",payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(o.jsx)(h.Provider,{value:{transactions:c.transactions,deleteTransaction:function(e){return b.apply(this,arguments)},addTransaction:function(e){return u.apply(this,arguments)},getTransaction:function(){return i.apply(this,arguments)},error:c.error,loading:c.loading},children:t})};function f(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var v=function(){var e=Object(r.useContext)(h).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(o.jsxs)("div",{className:"text-center mt-11",children:[Object(o.jsx)("div",{className:"text-3xl mt-4 mb-2 font-bold",children:"Your balance is:"}),Object(o.jsxs)("div",{className:"font-bold text-3xl text-yellow-800",children:["$",f(e)]})]})},g=function(){var e=Object(r.useContext)(h).transactions.map((function(e){return e.amount})),t=e.reduce((function(e,t){return e+t}),0).toFixed(2),n=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),a=t-n,c=Math.abs(a).toFixed(2);return Object(o.jsxs)("div",{className:"max-w-xs mx-auto flex justify-center bg-gray-300 p-5 space-x-2 m-5 shadow-gray-50 rounded-lg",children:[Object(o.jsx)("div",{className:"mr-8 flex",children:Object(o.jsxs)("h4",{className:"font-extrabold text-lg",children:["INCOME",Object(o.jsxs)("div",{className:"flex justify-center font-extrabold rounded-lg text-green-700 text-lg",children:["$",f(n)]})]})}),Object(o.jsx)("div",{className:"mx-auto flex",children:Object(o.jsxs)("h4",{className:"font-extrabold text-lg",children:["EXPENSE",Object(o.jsxs)("div",{className:"text-center place-items-center justify-center font-extrabold text-red-700 text-lg",children:["$",f(c)]})]})})]})},y=function(e){var t=e.transaction,n=Object(r.useContext)(h).deleteTransaction,a=function(){n(t._id)};return t.amount>0?Object(o.jsx)("div",{className:"mb-1",children:Object(o.jsxs)("div",{id:t._id,className:"pl-4 flex grow text-white font-medium border-2.5 border-none bg-cyan-500 shadow-lg shadow-cyan-500/50 hover:bg-cyan-600 rounded-md",children:[Object(o.jsx)("span",{className:"pt-1.5",children:t.text}),Object(o.jsxs)("span",{className:"pt-1.5 ml-auto mr-3",children:["$",f(t.amount)]}),Object(o.jsx)("button",{className:"px-2 py-2 inline-flex items-center bg-red-600 hover:bg-red-700 text-white text-lg font-lg rounded-sm",onClick:a,children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(o.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}):Object(o.jsx)("div",{className:"mb-1",children:Object(o.jsxs)("div",{id:t._id,className:"pl-4 flex grow  text-white font-medium border-2 border-none bg-red-400 hover:bg-red-500 shadow-lg shadow-cyan-500/50 rounded-md",children:[Object(o.jsx)("span",{className:"pt-1.5",children:t.text}),Object(o.jsxs)("span",{className:"pt-1.5 ml-auto mr-3",children:["-$",Math.abs(f(t.amount))]}),Object(o.jsx)("button",{class:"inline-flex items-center px-2 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-sm",onClick:a,children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(o.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})},N=function(){var e=Object(r.useContext)(h),t=e.transactions,n=e.getTransaction;return Object(r.useEffect)((function(){n()}),[]),Object(o.jsxs)("div",{className:"text-center max-w-lg mx-auto",children:[Object(o.jsx)("div",{className:"mb-4 text-2xl font-bold border-l-0 border-r-0 border-t-0 border-solid border border-gray-500 pb-4",children:"History"}),t.map((function(e){return Object(o.jsx)(y,{transaction:e},e.id)}))]})},w=function(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),s=Object(x.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)(0),b=Object(x.a)(d,2),u=b[0],j=b[1],p=Object(r.useContext)(h).addTransaction;return Object(o.jsxs)("div",{className:"max-w-lg mx-auto mt-10",children:[Object(o.jsx)("div",{className:" text-center text-2xl font-bold border-l-0 border-r-0 border-t-0 border-solid border border-gray-500 pb-4",children:"Add Transaction"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"mt-5 ",children:Object(o.jsx)("span",{className:"font-bold text-xl",children:"Transaction Type:"})}),Object(o.jsx)("div",{className:"max-w-lg rounded overflow-hidden my-5 mx-auto",children:Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:i,text:n,amount:parseInt(u)};p(t)},className:"w-full max-w-lg",children:[Object(o.jsx)("div",{className:"flex items-center border-b-2 border-teal-500 py-2",children:Object(o.jsx)("input",{onChange:function(e){return a(e.target.value)},className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"E.g. grocery, salary..."})}),Object(o.jsxs)("div",{className:"mt-8",children:[Object(o.jsxs)("span",{className:"font-bold text-xl ",children:["Amount: ","\n"]}),Object(o.jsx)("span",{className:"font-bold text-xl",children:"(Positive is Income, Negative is Expense)"})]}),Object(o.jsx)("div",{className:"max-w-lg rounded overflow-hidden my-5 mx-auto",children:Object(o.jsx)("div",{className:"flex items-center border-b-2 border-teal-500 py-2",children:Object(o.jsx)("input",{onChange:function(e){return j(e.target.value)},className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Enter the amount..."})})}),Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("button",{onClick:function(){return l({count:i+1})},className:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",type:"submit",children:"Add Transaction"})})]})})]})]})};n(32);var T=function(){return Object(o.jsxs)(O,{children:[Object(o.jsx)(i,{}),Object(o.jsxs)("div",{className:"containter",children:[Object(o.jsx)(v,{}),Object(o.jsx)(g,{}),Object(o.jsx)(N,{}),Object(o.jsx)(w,{})]})]})};n(33);s.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(T,{})}))}},[[34,1,2]]]);
//# sourceMappingURL=main.3706862d.chunk.js.map